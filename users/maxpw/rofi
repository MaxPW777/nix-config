configuration {
  modi: "combi,drun,run,window,ssh";
  combi-modes: "drun,run,window";
  combi-hide-mode-prefix: true;

  show-icons: true;
  icon-theme: "Papirus-Dark";

  display-drun:   " apps";
  display-run:    " run";
  display-window: " win";
  display-ssh:    " ssh";

  matching: "fuzzy";
  case-sensitive: false;
  sort: true;
  cycle: true;

  kb-accept-entry: "Return,KP_Enter";
  kb-row-up: "Up,Control+k";
  kb-row-down: "Down,Control+j";
  kb-remove-char-back: "BackSpace,Control+h";

  drun-display-format: "{name} <span weight='light' size='small' alpha='70%'>({generic})</span>";
}

/* -------- THEME -------- */
* {
  /* Catppuccin Mocha-ish palette */
  bg0: #1e1e2e;
  bg1: #313244;
  bg2: #45475a;
  line: #585b70;
  text: #cdd6f4;
  subtext: #a6adc8;

  accent: #cba6f7;   /* highlight */
  warn:   #f38ba8;
  info:   #94e2d5;

  /* Derived tints/lines for consistent selected states */
  accent-weak: #2f2740;
  warn-weak:   #3a222d;
  info-weak:   #23323b;

  accent-line: #5f4d78;
  warn-line:   #6b3647;
  info-line:   #4d6078;

  font: "JetBrainsMono Nerd Font 12";

  border-col: @line;
  highlight:  @accent;

  spacing: 6;
  width: 38%;        /* responsive; drop fixed window width */
}

window {
  background-color: @bg0;
  location: center;
  anchor: center;
  fullscreen: false;
  border: 1;
  border-radius: 16;
  border-color: @line;
}

mainbox {
  padding: 14;
  background-color: transparent;
  children: [ inputbar, message, listview, mode-switcher ];
  spacing: 10;
}

inputbar {
  background-color: @bg2;
  border: 1;
  border-color: @line;
  border-radius: 12;
  padding: 8 12;
}

prompt {
  enabled: true;
  text: "";
  font: "JetBrainsMono Nerd Font 13";
  background-color: transparent;
  foreground: @accent;
  padding: 0 6 0 2;
}

entry {
  background-color: transparent;
  foreground: @text;
  placeholder: "Type to search…";
  placeholder-color: @subtext;
}

listview {
  background-color: transparent;
  padding: 6 0 0 0;
  columns: 1;
  lines: 12;
  scrollbar: true;
  fixed-height: false;
  alternate: false;
}

scrollbar {
  handle-color: @line;
  handle-width: 6;
  border-radius: 3;
  background-color: transparent;
  padding: 0;
}

element {
  padding: 8 10;
  border-radius: 10;
  background-color: transparent;
  foreground: @subtext;
}

element normal.normal { foreground: @subtext; }
element normal.urgent { foreground: @warn; }
element normal.active { foreground: @info; }

element selected.normal {
  background-color: @accent-weak;
  foreground: @text;
  border: 1;
  border-color: @accent-line;
}
element selected.urgent {
  background-color: @warn-weak;
  border: 1;
  border-color: @warn-line;
  foreground: @text;
}
element selected.active {
  background-color: @info-weak;
  border: 1;
  border-color: @info-line;
  foreground: @text;
}

element-icon, element-text { background-color: transparent; }
element-text { highlight: @accent; }

mode-switcher { spacing: 6; }

button {
  padding: 6 10;
  border-radius: 8;
  background-color: @bg1;
  border: 1;
  border-color: @line;
  foreground: @subtext;
}
button selected {
  background-color: @accent-weak;
  border: 1;
  border-color: @accent-line;
  foreground: @text;
}

message {
  background-color: transparent;
  border: 0;
  padding: 0 2;
}

error-message {
  background-color: @warn-weak;
  foreground: @text;
  border: 1;
  border-color: @warn-line;
  border-radius: 10;
  padding: 8 10;
}

textbox { background-color: transparent; foreground: @subtext; }
